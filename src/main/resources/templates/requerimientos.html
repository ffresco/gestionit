<!DOCTYPE html>
<!--
To change this license header, choose License Headers in Project Properties.
To change this template file, choose Tools | Templates
and open the template in the editor.
-->
<html xmlns="http://www.w3.org/1999/xhtml"      xmlns:th="http://www.thymeleaf.org">

<head><div th:replace="fragments ::app_head('titulo')"></div></head>


</head>
<body>
	<div class="container-fluid"> <!-- contenedor de pagina-->

		<div th:replace="fragments ::navbartop"></div> <!-- Menu superior --> 	

		<div id="result"  class="row"> <!-- fila contine menuj lateral 3 col,  principal 9 col -->
		<!---------------A partir de aca es el codigo unico de la pagina-------------------------->			

			<div class="col-sm-3 sidenav">
				<div th:replace="fragments ::navbarside_requerimientos"></div> <!-- Menu Lateral  -->  
			</div>
			<!-- Contenido principal 9 columnas -->
			<div class="col-sm-9">
<div class="spinner-border"></div>
				<div class="panel panel-default">
					<div class= "panel-heading row">

						<div class="col-sm-6"><h2>Requerimientos</h2></div>
						<div class="col-sm-3"><a class="btn btn-sm btn-success" th:href="@{/requerimientos/create}" >Nuevo</a></div>					
					</div>	
					<div class="panel-body row" ><!--dentro del panel body va mi contenido-->
					<span th:if="${searchDTO.contents.empty}">
							 No se encontraron resultados!!!!!
						</span>

				    	<span th:if="${!searchDTO.contents.empty}">
				    	
						<table class="table table-responsive table-striped table-hover table-bordered">
							<thead class="bg-success">
								<tr>
									<th> Solicitante </th>
									<th> Area</th>
									<th> Categoria</th>
									<th> Solicitud</th>
									<th> Severidad</th>
									<th> Detalle</th>
									<th> Resultado</th>
									<th> </th>										
									<!--<th> Mnd Base</th>-->
									<th></th>
								</tr>
							</thead>
							<tbody>
								<tr th:each="requerimiento : ${searchDTO.contents}">
									<td th:text="${requerimiento.solicitante}"></td>
									<td th:text="${requerimiento.area.valor}"></td>
									<td th:text="${requerimiento.categoria.valor}"></td>
									<td th:text="${requerimiento.tipoSolicitud.valor}"></td>
									<td th:text="${requerimiento.tipoSeveridad.valor}"></td>
									<td th:text="${requerimiento.detalle}"></td>
									<td th:text="${not #lists.isEmpty(requerimiento.resultados) ? requerimiento.resultados[0]?.conforme : ''}"></td> <!-- Asumo que solo tiene un proyecto asociado -->
									<td>
										<div class="btn-group pull-right">
											
												<a class="btn btn-sm btn-primary" th:href="@{/requerimientos/edit/{id}(id=${requerimiento.id})}" >Editar</a>											
 												<!-- <a class="btn btn-sm btn-primary" th:href="@{/proyectos/view/{id}(id=${proyecto.id})}">Ver</a> 
												<a class="delete btn btn-sm btn-danger" data-toggle="modal" data-target="#myModalRiesgo">borrar</a> -->
										</div>
											 <!-- The Modal -->
								                <div class="modal fade" id="myModalRequerimiento">
								                    <div class="modal-dialog">
								                        <div class="modal-content">
								
								                            <!-- Modal Header -->
								                            <div class="modal-header">
								                                <h4 class="modal-title"  th:text="${'Esta seguro de eliminar el Requerimiento ' + requerimiento.id+'?'}" > </h4>
								                                <button type="button" class="close" data-dismiss="modal">&times;</button>
								                            </div>
								
								                            <!-- Modal footer -->
								                            <div class="modal-footer">
								                                <button type="button" class="btn btn-danger"
								                                    data-dismiss="modal">NO</button>
								                                <a th:href="@{/requerimientos/delete/{id}(id=${requerimiento.id})}"><button
								                                        type="button" class="btn btn-success">SI</button></a>
								                                   
								                            </div>
								                        </div>
								                    </div>
								                </div>
								              
									</td>
								</tr>
							</tbody>
						</table>
				</span>
					</div>
				</div>

			</div> <!-- Fin Contenido principal 9 columnas -->

			<!---------------Fin codigo unico de la pagina-------------------------->
		</div>	<!-- fila ROW contine menuj lateral 3 col,  principal 9 col -->
	<!-- fin contenedor de pagina-->

</body>
</html>
